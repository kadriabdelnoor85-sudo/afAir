<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Marketplace - Buy & Sell</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
  
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    * {
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #000;
      color: white;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    
    /* Navigation */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(10px);
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1000;
      border-bottom: 1px solid #333;
    }
    
    .logo {
      font-size: 24px;
      font-weight: bold;
      background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .nav-icons {
      display: flex;
      gap: 20px;
    }
    
    .nav-icons i {
      font-size: 20px;
      cursor: pointer;
      transition: color 0.3s;
    }
    
    .nav-icons i:hover {
      color: #4ecdc4;
    }
    
    .user-info {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .user-avatar {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      background: #4ecdc4;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    
    /* Main Container */
    .main-container {
      margin-top: 70px;
      padding: 10px;
    }
    
    /* TikTok-style feed */
    .feed {
      height: calc(100vh - 120px);
      overflow-y: scroll;
      scroll-snap-type: y mandatory;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }
    
    .feed::-webkit-scrollbar {
      display: none;
    }
    
    .item-card {
      height: calc(100vh - 120px);
      scroll-snap-align: start;
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 20px;
      overflow: hidden;
    }
    
    .item-image {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: 1;
    }
    
    .item-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 50%, transparent 100%);
      z-index: 2;
    }
    
    .item-content {
      position: relative;
      z-index: 3;
      margin-top: auto;
    }
    
    .item-title {
      font-size: 28px;
      font-weight: bold;
      margin: 0 0 10px 0;
      line-height: 1.2;
    }
    
    .item-price {
      font-size: 32px;
      font-weight: bold;
      color: #4ecdc4;
      margin: 10px 0;
    }
    
    .item-location {
      display: flex;
      align-items: center;
      gap: 8px;
      opacity: 0.8;
      margin: 5px 0;
    }
    
    .item-description {
      margin: 15px 0;
      line-height: 1.4;
      opacity: 0.9;
    }
    
    .item-seller {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 20px;
    }
    
    .seller-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #ff6b6b;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    
    .item-actions {
      position: absolute;
      right: 20px;
      bottom: 100px;
      display: flex;
      flex-direction: column;
      gap: 20px;
      z-index: 3;
    }
    
    .action-btn {
      background: rgba(0,0,0,0.7);
      border: none;
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: transform 0.3s, background 0.3s;
    }
    
    .action-btn:hover {
      transform: scale(1.1);
      background: rgba(78, 205, 196, 0.8);
    }
    
    /* Modals */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.9);
      z-index: 2000;
      overflow-y: auto;
    }
    
    .modal-content {
      background: #1a1a1a;
      margin: 50px auto;
      padding: 30px;
      border-radius: 20px;
      max-width: 500px;
      width: 90%;
      border: 1px solid #333;
    }
    
    .close-btn {
      float: right;
      font-size: 28px;
      cursor: pointer;
      color: #ff6b6b;
    }
    
    /* Forms */
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-label {
      display: block;
      margin-bottom: 8px;
      color: #4ecdc4;
      font-weight: bold;
    }
    
    .form-input {
      width: 100%;
      padding: 15px;
      background: #2a2a2a;
      border: 2px solid #333;
      border-radius: 10px;
      color: white;
      font-size: 16px;
    }
    
    .form-input:focus {
      outline: none;
      border-color: #4ecdc4;
    }
    
    .btn {
      background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 10px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      width: 100%;
      transition: transform 0.3s;
    }
    
    .btn:hover {
      transform: translateY(-2px);
    }
    
    .btn-secondary {
      background: #333;
    }
    
    /* Image Upload */
    .image-upload {
      border: 2px dashed #4ecdc4;
      border-radius: 10px;
      padding: 40px 20px;
      text-align: center;
      cursor: pointer;
      margin-bottom: 20px;
    }
    
    .image-upload:hover {
      background: rgba(78, 205, 196, 0.1);
    }
    
    .image-preview {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 20px;
    }
    
    .preview-image {
      width: 100px;
      height: 100px;
      object-fit: cover;
      border-radius: 10px;
    }
    
    /* Chat */
    .chat-container {
      height: 400px;
      display: flex;
      flex-direction: column;
    }
    
    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      background: #1a1a1a;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    
    .message {
      margin-bottom: 15px;
      padding: 10px 15px;
      background: #2a2a2a;
      border-radius: 15px;
      max-width: 80%;
    }
    
    .message-sender {
      font-weight: bold;
      color: #4ecdc4;
      margin-bottom: 5px;
    }
    
    .message-text {
      line-height: 1.4;
    }
    
    .message-time {
      font-size: 12px;
      opacity: 0.6;
      margin-top: 5px;
      text-align: right;
    }
    
    .own-message {
      background: linear-gradient(45deg, #4ecdc4, #44a08d);
      margin-left: auto;
    }
    
    /* Search */
    .search-container {
      position: fixed;
      top: 70px;
      left: 0;
      right: 0;
      background: rgba(0,0,0,0.9);
      padding: 15px;
      z-index: 999;
      display: none;
    }
    
    .search-input {
      background: #2a2a2a;
      border: 2px solid #4ecdc4;
      color: white;
      padding: 15px;
      border-radius: 10px;
      width: 100%;
      font-size: 16px;
    }
    
    /* Loader */
    .loader {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #4ecdc4;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 50px auto;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .item-title {
        font-size: 24px;
      }
      
      .item-price {
        font-size: 28px;
      }
      
      .modal-content {
        margin: 20px auto;
        padding: 20px;
      }
    }
  </style>
</head>
<body>

<!-- Navigation -->
<div class="navbar">
  <div class="logo">MARKET</div>
  <div class="nav-icons">
    <i class="fas fa-search" onclick="toggleSearch()"></i>
    <i class="fas fa-plus" onclick="showAddModal()"></i>
    <i class="fas fa-comment" onclick="showChatModal()"></i>
    <i class="fas fa-user" onclick="showProfileModal()"></i>
  </div>
  <div class="user-info" id="userInfo" style="display:none">
    <div class="user-avatar" id="userAvatar">U</div>
    <span id="userEmail"></span>
    <button onclick="logout()" style="background:none;border:none;color:#ff6b6b;cursor:pointer;">
      <i class="fas fa-sign-out-alt"></i>
    </button>
  </div>
</div>

<!-- Search Bar -->
<div class="search-container" id="searchContainer">
  <input type="text" class="search-input" placeholder="Search products..." 
         id="searchInput" oninput="searchItems()">
  <button onclick="toggleSearch()" style="position:absolute;right:25px;top:50%;transform:translateY(-50%);background:none;border:none;color:white;">
    <i class="fas fa-times"></i>
  </button>
</div>

<!-- Main Content -->
<div class="main-container">
  <div class="feed" id="feed"></div>
</div>

<!-- Add Item Modal -->
<div class="modal" id="addModal">
  <div class="modal-content">
    <span class="close-btn" onclick="hideAddModal()">&times;</span>
    <h2>Sell an Item</h2>
    
    <div class="form-group">
      <label class="form-label">Title</label>
      <input type="text" class="form-input" id="itemTitle" placeholder="What are you selling?">
    </div>
    
    <div class="form-group">
      <label class="form-label">Price ($)</label>
      <input type="number" class="form-input" id="itemPrice" placeholder="Price" min="0" step="0.01">
    </div>
    
    <div class="form-group">
      <label class="form-label">Description</label>
      <textarea class="form-input" id="itemDesc" rows="4" placeholder="Describe your item..."></textarea>
    </div>
    
    <div class="form-group">
      <label class="form-label">Location</label>
      <select class="form-input" id="itemLocation">
        <option value="">Select location</option>
        <option>Algiers</option>
        <option>Oran</option>
        <option>Constantine</option>
        <!-- Add other locations -->
      </select>
    </div>
    
    <div class="form-group">
      <label class="form-label">Images (Max 5)</label>
      <div class="image-upload" onclick="document.getElementById('imageInput').click()">
        <i class="fas fa-cloud-upload-alt" style="font-size:40px;margin-bottom:10px;"></i>
        <p>Click to upload images</p>
        <p style="font-size:12px;opacity:0.7;">PNG, JPG, GIF up to 5MB</p>
      </div>
      <input type="file" id="imageInput" accept="image/*" multiple style="display:none" onchange="handleImageUpload()">
      
      <div class="image-preview" id="imagePreview"></div>
    </div>
    
    <button class="btn" onclick="addItem()">Post Item</button>
  </div>
</div>

<!-- Chat Modal -->
<div class="modal" id="chatModal">
  <div class="modal-content">
    <span class="close-btn" onclick="hideChatModal()">&times;</span>
    <h2>Global Chat</h2>
    
    <div class="chat-container">
      <div class="chat-messages" id="chatMessages"></div>
      <div class="form-group">
        <input type="text" class="form-input" id="chatInput" placeholder="Type your message..." 
               onkeypress="if(event.key === 'Enter') sendChatMessage()">
      </div>
      <button class="btn" onclick="sendChatMessage()">Send</button>
    </div>
  </div>
</div>

<!-- Auth Modal -->
<div class="modal" id="authModal" style="display:block">
  <div class="modal-content">
    <h2 style="text-align:center;margin-bottom:30px;">Welcome to Marketplace</h2>
    
    <div class="form-group">
      <input type="email" class="form-input" id="authEmail" placeholder="Email">
    </div>
    
    <div class="form-group">
      <input type="password" class="form-input" id="authPassword" placeholder="Password">
    </div>
    
    <button class="btn" onclick="login()">Login</button>
    <button class="btn btn-secondary" onclick="register()" style="margin-top:10px;">Register</button>
    
    <div style="text-align:center;margin-top:20px;">
      <p>Or continue with</p>
      <button class="btn" onclick="googleLogin()" style="background:#DB4437;">
        <i class="fab fa-google"></i> Google
      </button>
      <button class="btn" onclick="facebookLogin()" style="background:#1877F2;margin-top:10px;">
        <i class="fab fa-facebook"></i> Facebook
      </button>
    </div>
  </div>
</div>

<script>
  // Firebase Configuration (REPLACE WITH YOURS)
 const firebaseConfig = {
  apiKey: "AIza...",
  authDomain: "...",
  projectId: "...",
  storageBucket: "...",
  messagingSenderId: "...",
  appId: "..."
};

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();
  const storage = firebase.storage();
  
  // App State
  let currentUser = null;
  let uploadedImages = [];
  let unsubscribeItems = null;
  let unsubscribeChat = null;

  // DOM Elements
  const elements = {
    authModal: document.getElementById('authModal'),
    addModal: document.getElementById('addModal'),
    chatModal: document.getElementById('chatModal'),
    searchContainer: document.getElementById('searchContainer'),
    feed: document.getElementById('feed'),
    userInfo: document.getElementById('userInfo'),
    userAvatar: document.getElementById('userAvatar'),
    userEmail: document.getElementById('userEmail')
  };

  // Initialize App
  document.addEventListener('DOMContentLoaded', () => {
    initAuth();
  });

  // Authentication Functions
  function initAuth() {
    auth.onAuthStateChanged(user => {
      if (user) {
        currentUser = user;
        showApp();
        loadItems();
        loadChat();
      } else {
        showAuthModal();
      }
    });
  }

  function showApp() {
    elements.authModal.style.display = 'none';
    elements.userInfo.style.display = 'flex';
    elements.userEmail.textContent = currentUser.email;
    elements.userAvatar.textContent = currentUser.email[0].toUpperCase();
  }

  function showAuthModal() {
    elements.authModal.style.display = 'block';
    elements.userInfo.style.display = 'none';
  }

  function login() {
    const email = document.getElementById('authEmail').value;
    const password = document.getElementById('authPassword').value;
    
    auth.signInWithEmailAndPassword(email, password)
      .catch(error => {
        alert('Login failed: ' + error.message);
      });
  }

  function register() {
    const email = document.getElementById('authEmail').value;
    const password = document.getElementById('authPassword').value;
    
    auth.createUserWithEmailAndPassword(email, password)
      .then(() => {
        alert('Account created successfully!');
      })
      .catch(error => {
        alert('Registration failed: ' + error.message);
      });
  }

  function googleLogin() {
    const provider = new firebase.auth.GoogleAuthProvider();
    auth.signInWithPopup(provider)
      .catch(error => {
        alert('Google login failed: ' + error.message);
      });
  }

  function facebookLogin() {
    const provider = new firebase.auth.FacebookAuthProvider();
    auth.signInWithPopup(provider)
      .catch(error => {
        alert('Facebook login failed: ' + error.message);
      });
  }

  function logout() {
    auth.signOut();
  }

  // Item Management
  function showAddModal() {
    elements.addModal.style.display = 'block';
  }

  function hideAddModal() {
    elements.addModal.style.display = 'none';
    clearImageUpload();
  }

  function handleImageUpload() {
    const files = document.getElementById('imageInput').files;
    const preview = document.getElementById('imagePreview');
    preview.innerHTML = '';
    uploadedImages = [];
    
    Array.from(files).slice(0, 5).forEach(file => {
      if (file.size > 5 * 1024 * 1024) {
        alert('File too large: ' + file.name);
        return;
      }
      
      const reader = new FileReader();
      reader.onload = (e) => {
        const img = document.createElement('img');
        img.src = e.target.result;
        img.className = 'preview-image';
        preview.appendChild(img);
        uploadedImages.push(file);
      };
      reader.readAsDataURL(file);
    });
  }

  function clearImageUpload() {
    document.getElementById('imageInput').value = '';
    document.getElementById('imagePreview').innerHTML = '';
    uploadedImages = [];
  }

  async function uploadImages(itemId) {
    const imageUrls = [];
    
    for (let i = 0; i < uploadedImages.length; i++) {
      const file = uploadedImages[i];
      const fileName = `${itemId}_${Date.now()}_${i}`;
      const storageRef = storage.ref(`items/${fileName}`);
      
      try {
        const snapshot = await storageRef.put(file);
        const downloadURL = await snapshot.ref.getDownloadURL();
        imageUrls.push(downloadURL);
      } catch (error) {
        console.error('Error uploading image:', error);
      }
    }
    
    return imageUrls;
  }

  async function addItem() {
    const title = document.getElementById('itemTitle').value;
    const price = document.getElementById('itemPrice').value;
    const desc = document.getElementById('itemDesc').value;
    const location = document.getElementById('itemLocation').value;
    
    if (!title || !price || !desc || !location) {
      alert('Please fill all required fields');
      return;
    }
    
    // Create item in Firestore first
    const itemRef = await db.collection('items').add({
      title,
      price: parseFloat(price),
      desc,
      location,
      userId: currentUser.uid,
      userEmail: currentUser.email,
      createdAt: firebase.firestore.FieldValue.serverTimestamp(),
      images: []
    });
    
    // Upload images
    if (uploadedImages.length > 0) {
      const imageUrls = await uploadImages(itemRef.id);
      
      // Update item with image URLs
      await itemRef.update({
        images: imageUrls
      });
    }
    
    // Reset form
    document.getElementById('itemTitle').value = '';
    document.getElementById('itemPrice').value = '';
    document.getElementById('itemDesc').value = '';
    document.getElementById('itemLocation').value = '';
    clearImageUpload();
    
    hideAddModal();
    alert('Item posted successfully!');
  }

  function loadItems() {
    if (unsubscribeItems) unsubscribeItems();
    
    unsubscribeItems = db.collection('items')
      .orderBy('createdAt', 'desc')
      .onSnapshot(snapshot => {
        elements.feed.innerHTML = '';
        
        snapshot.forEach(doc => {
          const item = doc.data();
          const itemElement = createItemElement(item, doc.id);
          elements.feed.appendChild(itemElement);
        });
      }, error => {
        console.error('Error loading items:', error);
      });
  }

  function createItemElement(item, itemId) {
    const div = document.createElement('div');
    div.className = 'item-card';
    
    const bgImage = item.images && item.images.length > 0 ? 
      `url('${item.images[0]}')` : 
      'linear-gradient(45deg, #1a1a2e, #16213e)';
    
    div.innerHTML = `
      <div class="item-overlay"></div>
      ${item.images && item.images.length > 0 ? 
        `<img src="${item.images[0]}" class="item-image" alt="${item.title}">` : ''}
      
      <div class="item-content">
        <h2 class="item-title">${item.title}</h2>
        <div class="item-price">$${item.price.toFixed(2)}</div>
        <div class="item-location">
          <i class="fas fa-map-marker-alt"></i>
          ${item.location}
        </div>
        <p class="item-description">${item.desc}</p>
        
        <div class="item-seller">
          <div class="seller-avatar">${item.userEmail[0].toUpperCase()}</div>
          <div>
            <div><strong>${item.userEmail}</strong></div>
            <small>${formatDate(item.createdAt?.toDate())}</small>
          </div>
        </div>
      </div>
      
      <div class="item-actions">
        <button class="action-btn" onclick="contactSeller('${item.userEmail}')">
          <i class="fas fa-envelope"></i>
        </button>
        <button class="action-btn" onclick="saveItem('${itemId}')">
          <i class="fas fa-heart"></i>
        </button>
        <button class="action-btn" onclick="shareItem('${itemId}')">
          <i class="fas fa-share"></i>
        </button>
      </div>
    `;
    
    div.style.background = bgImage;
    div.style.backgroundSize = 'cover';
    div.style.backgroundPosition = 'center';
    
    return div;
  }

  function searchItems() {
    const query = document.getElementById('searchInput').value.toLowerCase();
    
    if (unsubscribeItems) unsubscribeItems();
    
    unsubscribeItems = db.collection('items')
      .orderBy('createdAt', 'desc')
      .onSnapshot(snapshot => {
        elements.feed.innerHTML = '';
        
        snapshot.forEach(doc => {
          const item = doc.data();
          
          if (item.title.toLowerCase().includes(query) || 
              item.desc.toLowerCase().includes(query) ||
              item.location.toLowerCase().includes(query)) {
            const itemElement = createItemElement(item, doc.id);
            elements.feed.appendChild(itemElement);
          }
        });
      });
  }

  function toggleSearch() {
    elements.searchContainer.style.display = 
      elements.searchContainer.style.display === 'block' ? 'none' : 'block';
    
    if (elements.searchContainer.style.display === 'block') {
      document.getElementById('searchInput').focus();
    }
  }

  // Chat Functions
  function showChatModal() {
    elements.chatModal.style.display = 'block';
    scrollChatToBottom();
  }

  function hideChatModal() {
    elements.chatModal.style.display = 'none';
  }

  function loadChat() {
    if (unsubscribeChat) unsubscribeChat();
    
    unsubscribeChat = db.collection('chat')
      .orderBy('timestamp', 'asc')
      .limit(100)
      .onSnapshot(snapshot => {
        const messagesDiv = document.getElementById('chatMessages');
        messagesDiv.innerHTML = '';
        
        snapshot.forEach(doc => {
          const msg = doc.data();
          const messageElement = createMessageElement(msg);
          messagesDiv.appendChild(messageElement);
        });
        
        scrollChatToBottom();
      });
  }

  function createMessageElement(msg) {
    const div = document.createElement('div');
    const isOwn = msg.userId === currentUser.uid;
    
    div.className = `message ${isOwn ? 'own-message' : ''}`;
    div.innerHTML = `
      <div class="message-sender">${isOwn ? 'You' : msg.userEmail}</div>
      <div class="message-text">${msg.text}</div>
      <div class="message-time">${formatTime(msg.timestamp?.toDate())}</div>
    `;
    
    return div;
  }

  async function sendChatMessage() {
    const input = document.getElementById('chatInput');
    const message = input.value.trim();
    
    if (!message) return;
    
    await db.collection('chat').add({
      text: message,
      userId: currentUser.uid,
      userEmail: currentUser.email,
      timestamp: firebase.firestore.FieldValue.serverTimestamp()
    });
    
    input.value = '';
    scrollChatToBottom();
  }

  function scrollChatToBottom() {
    const chatMessages = document.getElementById('chatMessages');
    if (chatMessages) {
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
  }

  // Utility Functions
  function formatDate(date) {
    if (!date) return '';
    return date.toLocaleDateString('en-US', {
      month: 'short',
      day: 'numeric',
      year: 'numeric'
    });
  }

  function formatTime(date) {
    if (!date) return '';
    return date.toLocaleTimeString('en-US', {
      hour: '2-digit',
      minute: '2-digit'
    });
  }

  function contactSeller(email) {
    const subject = `Regarding your item on Marketplace`;
    const body = `Hello, I'm interested in your item.`;
    window.open(`mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`);
  }

  function saveItem(itemId) {
    // Add to user's saved items
    db.collection('savedItems').add({
      userId: currentUser.uid,
      itemId: itemId,
      savedAt: firebase.firestore.FieldValue.serverTimestamp()
    });
    
    alert('Item saved to favorites!');
  }

  function shareItem(itemId) {
    const url = window.location.href + '?item=' + itemId;
    
    if (navigator.share) {
      navigator.share({
        title: 'Check out this item on Marketplace',
        text: 'I found this great item on Marketplace!',
        url: url
      });
    } else {
      navigator.clipboard.writeText(url);
      alert('Link copied to clipboard!');
    }
  }

  function showProfileModal() {
    // Profile modal implementation
    alert('Profile modal coming soon!');
  }

  // Event Listeners
  document.getElementById('chatInput').addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
      sendChatMessage();
    }
  });

  // Close modals when clicking outside
  window.onclick = (event) => {
    if (event.target.classList.contains('modal')) {
      event.target.style.display = 'none';
    }
  };
</script>
</body>
</html>

